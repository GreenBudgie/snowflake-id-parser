<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Snowflake ID Parser</title>
</head>
<body>
<h1>Snowflake ID parser</h1>
<label for="snowflakeId"></label>
<input type="number" name="snowflakeId" id="snowflakeId">
<button type="button">Parse</button>
<table>
    <tr>
        <td>Timestamp</td>
        <td>DATE</td>
    </tr>
    <tr>
        <td>Node Number</td>
        <td>1</td>
    </tr>
    <tr>
        <td>Sequence Number</td>
        <td>0</td>
    </tr>
</table>

<dl>
    <dt>1. Convert snowflake ID to binary representation</dt>
    <dd>
        <span class="snowflake_id_decimal">123</span>
        <span> -> </span>
        <span class="snowflake_id_binary_no_zeros">123</span>
    </dd>

    <dt>2. Add leading zeros to binary ID representation</dt>
    <dd>
        <p>SOLAR snowflake IDs always contain 59 bits.
            We have to add zeros to the start of the number for easier parsing.
        </p>
        <span>Result: </span>
        <span class="snowflake_id_binary_leading_zeros"></span>
    </dd>

    <dt>3. Split the binary representation into three parts</dt>
    <dd>
        <dl>
            <dt>Timestamp - first 41 bits</dt>
            <dd>
                <span class="timestamp_binary"></span>
            </dd>

            <dt>Node Number - 10 bits after timestamp</dt>
            <dd>
                <span class="node_number_binary"></span>
            </dd>

            <dt>Sequence Number - last 8 bits</dt>
            <dd>
                <span class="sequence_number_binary"></span>
            </dd>
        </dl>
    </dd>

    <dt>4. Convert timestamp to decimal representation and then to date</dt>
    <dd>
        <span class="timestamp_binary"></span>
        <span> -> </span>
        <span class="timestamp_decimal"></span>

        <p>Resulting number is a number of milliseconds that passed since April 1st, 2020 2:38:20 AM.
            Its timestamp is 1585710000000 (milliseconds since January 1st, 1970).
            To get the resulting number of milliseconds that passed since January 1st, 1970,
            we have to sum these two timestamps:</p>

        <span class="timestamp_decimal"></span>
        <span> + 1585710000000 = </span>
        <span class="result_timestamp"></span>

        <p>Then we can convert resulting timestamp to date and time: </p>
        <span class="result_date_time"></span>
    </dd>

    <dt>5. Convert node number to decimal representation</dt>
    <dd>
        <span class="node_number_binary"></span>
        <span> -> </span>
        <span class="node_number_decimal"></span>
    </dd>

    <dt>6. Convert sequence number to decimal representation</dt>
    <dd>
        <span class="sequence_number_binary"></span>
        <span> -> </span>
        <span class="sequence_number_decimal"></span>
    </dd>
</dl>
</body>
</html>